package logica;

import java.io.PrintStream;
import java.util.Scanner;

public class Menu {
	
	private static Articulo[] listaDeArticulos;	
	private static Scanner reader = new Scanner( System.in );
	private static float precio;
	private static String codigo;
	
	public static void main(String[] args) {		
		inicializer(System.out);	
		hacerPedido();
		System.out.println("Pedido realizado.");
		System.out.println("Su código es: " + codigo);
		System.out.println("El coste del pedido es de: " + precio + "€");
		
	}

	private static void inicializer(PrintStream out) {
		Carta carta = new Carta();
		listaDeArticulos = carta.getArticulos();
		out.println("Bienvenido a McDonald's.");
		out.println("Seleccione los productos que quiera\n");
		for (int i=0; i<listaDeArticulos.length;i++) {
			out.println(i+1 + "->  " +listaDeArticulos[i]);
		}
	}

	private static void hacerPedido() {
		Pedido pedido = new Pedido();
		System.out.println("\nHaga su pedido");
		boolean correct = true;
		while (correct) {
			pedido.add(seleccion(), unidades());
			System.out.println("Si quiere algo más, pulse 1, sino, pulse 0");
			int num = reader.nextInt();
			if (num==0) {
				correct=false;
			}
		}
		pedido.grabarPedido();
		codigo = pedido.getCodigo();
		precio = pedido.getTotal();
	}
	
	private static int unidades() {
		System.out.println("¿Cuantas unidades quiere?");
		int num = reader.nextInt();
		while (num<=0) {
			num = reader.nextInt();
		}
		return num;
	}
	
	
	private static Articulo seleccion() {	
		System.out.println("¿Que productos quiere?");
		int num = reader.nextInt();
		while (num<=0 || num>listaDeArticulos.length) {
        	num = reader.nextInt();
        } 
        return listaDeArticulos[num-1];
	}
}
